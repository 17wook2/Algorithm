n,m = map(int,input().split())
maps = [list(map(int,input().split())) for i in range(n)]
shape = [
    [[0,0],[0,1],[0,2],[0,3]], #-
    [[0,0],[1,0],[2,0],[3,0]], #ㅣ
    [[0,0],[0,1],[1,0],[1,1]], #ㅁ
    [[0,0],[0,1],[0,2],[1,0]], #ㄱ
    [[0,0],[0,1],[0,2],[1,2]],
    [[0,0],[1,0],[1,1],[1,2]],
    [[0,2],[1,2],[1,1],[1,0]],
    [[0,1],[0,0],[1,0],[2,0]],
    [[0,0],[0,1],[1,1],[2,1]],
    [[0,0],[1,0],[2,0],[2,1]],
    [[0,1],[1,1],[2,1],[2,0]],
    [[0,0],[0,1],[0,2],[1,1]], #ㅜ
    [[0,1],[1,0],[1,1],[1,2]],
    [[0,0],[1,0],[1,1],[2,0]],
    [[1,0],[0,1],[1,1],[2,1]],
    [[0,1],[1,1],[1,0],[2,0]],
    [[0,0],[1,0],[1,1],[2,1]],
    [[0,1],[0,2],[1,1],[1,0]],
    [[0,0],[0,1],[1,1],[1,2]]
]
answer = 0
for i in range(n):
    for j in range(m):
        for s in shape:
            try:
                a = maps[i + s[0][0]][j + s[0][1]]
                b = maps[i + s[1][0]][j + s[1][1]]
                c = maps[i + s[2][0]][j + s[2][1]]
                d = maps[i + s[3][0]][j + s[3][1]]
                temp = a + b + c + d
            except IndexError:
                temp = 0
            answer = max(answer,temp)
print(answer)

